View(cleansdq)
cleansdq
cleansdq=merge_sdq$cleandata2$mother_total_difficulties_score
cleansdq
cleansdq=merge_sdq$cleandata2$mother_total_difficulties_score
sdqana1=analysis(cleansdq, GI_clean_sdq, confsdq)
sdqana1$Coef
sdqana1=analysis(cleansdq, GI_clean_sdq, confsdq)
sdqana2=analysis(cleansdq, GI_ext_sdq, confsdq)
sdqana1$Coef
sdqana2$Coef
summary(sdqana1$baseLM)
summary(sdqana1$backLM)
summary(sdqana1$cleanLM)
summary(sdqana2$cleanLM)
sdqana1$LM
summary(sdqana1$LM)
source("/Users/NYao/Documents/Work/Carine/GI_functions.R")
sdqana1=analysis(cleansdq, GI_clean_sdq, confsdq)
sdqana2=analysis(cleansdq, GI_ext_sdq, confsdq)
summary(sdqana1$backLM)
source("/Users/NYao/Documents/Work/Carine/GI_functions.R")
sdqana1=analysis(cleansdq, GI_clean_sdq, confsdq)
source("/Users/NYao/Documents/Work/Carine/GI_functions.R")
sdqana1=analysis(cleansdq, GI_clean_sdq, confsdq)
sdqana2=analysis(cleansdq, GI_ext_sdq, confsdq)
summary(sdqana1$backLM)
summary(sdqana2$backLM)
summary(sdqana1$cleanLM)
summary(sdqana2$cleanLM)
plot(sdqana1$cleanLM, which=2)
plot(sdqana2$cleanLM, which=2)
plot(sdqana1$cleanLM, which=2)
plot(sdqana2$cleanLM, which=2)
plot(sdqana1$backLM, which=2)
plot(sdqana1$backLM, which=2)
plot(sdqana2$cleanLM, which=2)
plot(sdqana1$backLM, which=2)
plot(sdqana2$backLM, which=2)
colnames(confsdq)
colnames(sdq)
library(foreign)
library(stringr)
library(glmnet)
library(missMDA)
library(MASS)
data=read.csv("/Users/NYao/Documents/Work/Carine/Carine_12_04_2016 final (1).csv")
cbcl=read.csv("/Users/NYao/Dropbox/Code/Interaction/CBCL.csv")
sdq=read.csv("/Users/NYao/Documents/Work/Carine/sdq_24_05_2016.csv", header=TRUE)
data$PSCID=str_trim(gsub("-", "_", data$PSCID))
cbcl$PSCID=str_trim(cbcl$PSCID)
idpool=intersect(as.character(data$PSCID), as.character(cbcl$PSCID))
cleandata=data[na.omit(match(idpool, data$PSCID)), ]
cleancbcl=cbcl[na.omit(match( idpool, cbcl$PSCID)), ]
all(cleandata$PSCID==cleancbcl$PSCID)
phenotype=cleancbcl[, c('sc8raw.48m', 'sc9raw.48m','sc8raw.60m', 'sc9raw.60m' )]; colnames(phenotype)=c("internal48", "external48", "internal60", "external60")
giclean=cleandata$GI_clean.12m
giext=cleandata$GI_extrapolated.12m
### first-born original and interval were excluded due to colinearity
confounder=as.data.frame(cleandata[,c(-1, -2,-3,-4, -5:-7, -36,-37, -38:-40, -41:-556, -which(colnames(cleandata)=='CPE_at_12') )])
confounder=as.data.frame(apply(confounder, 2, as.numeric))
phenotype=cleancbcl[, c('sc8raw.48m', 'sc9raw.48m','sc8raw.60m', 'sc9raw.60m', 'sc10raw.48m', 'sc10raw.60m')]; colnames(phenotype)=c("internal48", "external48", "internal60", "external60", "total48", "total60")
colnames(phenotype)
total48=as.numeric(phenotype$total48)
total60=as.numeric(phenotype$total60)
ana1=analysis(internal48, giclean, confounder)
source("/Users/NYao/Documents/Work/Carine/GI_functions.R")
ana1=analysis(internal48, giclean, confounder)
internal48=as.numeric(phenotype$internal48)
external48=as.numeric(phenotype$external48)
internal60=as.numeric(phenotype$internal60)
external60=as.numeric(phenotype$external60)
total48=as.numeric(phenotype$total48)
total60=as.numeric(phenotype$total60)
ana1=analysis(internal48, giclean, confounder)
ana9=analysis(total48, giclean, confounder)
ana10=analysis(total48, giext, confounder)
ana11=analysis(total60, giclean, confounder)
ana12=analysis(total60, giext, confounder)
ana9$Coef
ana10$Coef
ana11$Coef
ana12$Coef
ana9$cleanLM
summary(ana9$cleanLM)
summary(ana10$cleanLM)
summary(ana11$cleanLM)
summary(ana12$cleanLM)
summary(ana12$backLM)
summary(ana9$backLM)
summary(ana9$backLM)
summary(ana10$backLM)
summary(ana11$backLM)
summary(ana12$backLM)
library(foreign)
library(stringr)
library(glmnet)
library(missMDA)
library(MASS)
data=read.csv("/Users/NYao/Documents/Work/Carine/Carine_12_04_2016 final (1).csv")
cbcl=read.csv("/Users/NYao/Dropbox/Code/Interaction/CBCL.csv")
sdq=read.csv("/Users/NYao/Documents/Work/Carine/sdq_24_05_2016.csv", header=TRUE)
data$PSCID=str_trim(gsub("-", "_", data$PSCID))
cbcl$PSCID=str_trim(cbcl$PSCID)
idpool=intersect(as.character(data$PSCID), as.character(cbcl$PSCID))
cleandata=data[na.omit(match(idpool, data$PSCID)), ]
cleancbcl=cbcl[na.omit(match( idpool, cbcl$PSCID)), ]
all(cleandata$PSCID==cleancbcl$PSCID)
phenotype=cleancbcl[, c('sc8raw.48m', 'sc9raw.48m','sc8raw.60m', 'sc9raw.60m', 'sc10raw.48m', 'sc10raw.60m')]; colnames(phenotype)=c("internal48", "external48", "internal60", "external60", "total48", "total60")
giclean=cleandata$GI_clean.12m
giext=cleandata$GI_extrapolated.12m
### first-born original and interval were excluded due to colinearity
confounder=as.data.frame(cleandata[,c(-1, -2,-3,-4, -5:-7, -36,-37, -38:-40, -41:-556, -which(colnames(cleandata)=='CPE_at_12') )])
confounder=as.data.frame(apply(confounder, 2, as.numeric))
#confounder[, c(3,7)]=apply(confounder[, c(3,7)], 2, as.factor)
### GI Clean
internal48=as.numeric(phenotype$internal48)
external48=as.numeric(phenotype$external48)
internal60=as.numeric(phenotype$internal60)
external60=as.numeric(phenotype$external60)
total48=as.numeric(phenotype$total48)
total60=as.numeric(phenotype$total60)
source("/Users/NYao/Documents/Work/Carine/GI_functions.R")
ana1=analysis(internal48, giclean, confounder)
ana2=analysis(internal48, giext, confounder)
ana3=analysis(internal60, giclean, confounder)
ana4=analysis(internal60, giext, confounder)
ana5=analysis(external48, giclean, confounder)
ana6=analysis(external48, giext, confounder)
ana7=analysis(external60, giclean, confounder)
ana8=analysis(external60, giext, confounder)
ana9=analysis(total48, giclean, confounder)
ana10=analysis(total48, giext, confounder)
ana11=analysis(total60, giclean, confounder)
ana12=analysis(total60, giext, confounder)
ana6$Coef
ana5=analysis(external48, giclean, confounder)
ana6=analysis(external48, giext, confounder)
ana7=analysis(external60, giclean, confounder)
ana8=analysis(external60, giext, confounder)
ana5$Coef
ana5$Coef
ana5=analysis(external48, giclean, confounder)
ana6=analysis(external48, giext, confounder)
ana7=analysis(external60, giclean, confounder)
ana8=analysis(external60, giext, confounder)
ana5$Coef
ana6$Coef
ana7$Coef
ana8$Coef
ana5$cleanLM
summary(ana5$cleanLM)
ana6$cleanLM
summary(ana6$cleanLM)
summary(ana7$cleanLM)
summary(ana8$cleanLM)
summary(ana5$backLM)
summary(ana6$backLM)
summary(ana7$backLM)
summary(ana8$backLM)
plot(ana5$backLM, which =2)
plot(ana6$backLM, which =2)
plot(ana7$backLM, which =2)
summary(ana9$backLM)
summary(ana5$cleanLM)
plot(ana5$cleanLM, which =2)
plot(ana5$cleanLM, which =2)
plot(ana5$backLM, which =2)
plot(ana5$cleanLM, which =2)
plot(ana6$cleanLM, which =2)
plot(ana7$cleanLM, which =2)
plot(ana8$cleanLM, which =2)
plot(ana8$cleanLM, which =2)
plot(ana5$cleanLM)
summary(ana5$cleanLM)
summary(ana9$cleanLM)
summary(ana10$cleanLM)
summary(ana10$cleanLM)
summary(ana11$cleanLM)
summary(ana11$cleanLM)
summary(ana12$cleanLM)
ana9=analysis(total48, giclean, confounder)
ana10=analysis(total48, giext, confounder)
ana11=analysis(total60, giclean, confounder)
ana12=analysis(total60, giext, confounder)
ana9=analysis(total48, giclean, confounder)
ana10=analysis(total48, giext, confounder)
ana11=analysis(total60, giclean, confounder)
ana12=analysis(total60, giext, confounder)
summary(ana12$cleanLM)
summary(ana1$cleanLM)
summary(ana11$cleanLM)
plot(ana8$cleanLM, which =2)
plot(ana9$cleanLM, which =2)
plot(ana10$cleanLM, which =2)
plot(ana11$cleanLM, which =2)
ana12=analysis(total60, giext, confounder)
plot(ana12$cleanLM, which =2)
plot(ana19$cleanLM, which =2)
plot(ana9$cleanLM, which =2)
plot(ana12$cleanLM, which =2)
plot(ana9$cleanLM which=2)
plot(ana9$cleanLM, which=2)
plot(ana9$backLM, which =2)
plot(ana9$backLM, which =2)
summary(ana9$backLM)
summary(ana10$backLM)
plot(ana10$backLM, which =2)
plot(ana11$backLM, which =2)
ana11=analysis(total60[-248, ], giclean[-248, ], confounder[-248, ])
ana12=analysis(total60[-248, ], giext[-248, ], confounder[-248, ])
ana11=analysis(total60[-248 ], giclean[-248], confounder[-248, ])
ana12=analysis(total60[-248], giext[-248], confounder[-248, ])
plot(ana11$backLM, which =2)
ana12=analysis(total60[-248], giext[-248], confounder[-248, ])
plot(ana12$backLM, which =2)
summary(ana11$backLM)
summary(ana12$backLM)
giclean
confounder
View(confounder)
View(cleandata)
cleandata[which(cleandata$birth_weight_grams==3550), 'PSCID']
cleandata[which(cleandata$birth_weight_grams==3550 & cleandata$age_mother_at_birth==38.91855), 'PSCID']
which(cleandata$birth_weight_grams==3550 & cleandata$age_mother_at_birth==38.91855)
cleandata[which((cleandata$birth_weight_grams==3550)&(cleandata$age_mother_at_birth=="38.91855")), 'PSCID']
cleandata[which((cleandata$birth_weight_grams==3550)&(cleandata$gender=="1")), 'PSCID']
summary(ana11$cleanLM)
summary(ana12$cleanLM)
summary(ana12$cleanLM)
plot(ana11$cleanLM, which =2)
plot(ana12$cleanLM, which =2)
summary(ana12$cleanLM)
summary(ana11$cleanLM)
plot(ana10$cleanLM, which =2)
summary(ana10$cleanLM)
library(foreign)
library(stringr)
library(glmnet)
library(missMDA)
library(MASS)
source("/Users/NYao/Documents/Work/Carine/GI_functions.R")
data=read.csv("/Users/NYao/Documents/Work/Carine/Carine_12_04_2016 final (1).csv")
cbcl=read.csv("/Users/NYao/Dropbox/Code/Interaction/CBCL.csv")
sdq=read.csv("/Users/NYao/Documents/Work/Carine/SDQ 24.05.2016.csv", header=TRUE)
data$PSCID=str_trim(gsub("-", "_", data$PSCID))
cbcl$PSCID=str_trim(cbcl$PSCID)
sdq$PSCID=str_trim(gsub("-", "_", sdq$PSCID))
idpool=intersect(as.character(data$PSCID), as.character(cbcl$PSCID))
cleandata=data[na.omit(match(idpool, data$PSCID)), ]
cleancbcl=cbcl[na.omit(match( idpool, cbcl$PSCID)), ]
all(cleandata$PSCID==cleancbcl$PSCID)
phenotype=cleancbcl[, c('sc8raw.48m', 'sc9raw.48m','sc8raw.60m', 'sc9raw.60m', 'sc10raw.48m', 'sc10raw.60m')]; colnames(phenotype)=c("internal48", "external48", "internal60", "external60", "total48", "total60")
giclean=cleandata$GI_clean.12m
giext=cleandata$GI_extrapolated.12m
colnames(confounder)
colnames(cleandata)
confounder=as.data.frame(cleandata[,c(-1, -2,-3,-4, -5:-7,-10,-11, -31, -32, -36,-37, -38:-40, -41:-556, -which(colnames(cleandata)=='CPE_at_12') )])
confounder=as.data.frame(apply(confounder, 2, as.numeric))
internal48=as.numeric(phenotype$internal48)
external48=as.numeric(phenotype$external48)
internal60=as.numeric(phenotype$internal60)
external60=as.numeric(phenotype$external60)
total48=as.numeric(phenotype$total48)
total60=as.numeric(phenotype$total60)
ana1=analysis(internal48, giclean, confounder)
ana2=analysis(internal48, giext, confounder)
ana3=analysis(internal60, giclean, confounder)
ana4=analysis(internal60, giext, confounder)
ana5=analysis(external48, giclean, confounder)
ana6=analysis(external48, giext, confounder)
ana7=analysis(external60, giclean, confounder)
ana8=analysis(external60, giext, confounder)
ana9=analysis(total48, giclean, confounder)
ana10=analysis(total48, giext, confounder)
ana11=analysis(total60[-248 ], giclean[-248], confounder[-248, ])
ana12=analysis(total60[-248], giext[-248], confounder[-248, ])
internal48
idpool=intersect(as.character(data$PSCID), as.character(cbcl$PSCID))
cleandata=data[na.omit(match(idpool, data$PSCID)), ]
cleancbcl=cbcl[na.omit(match( idpool, cbcl$PSCID)), ]
all(cleandata$PSCID==cleancbcl$PSCID)
phenotype=cleancbcl[, c('sc8raw.48m', 'sc9raw.48m','sc8raw.60m', 'sc9raw.60m', 'sc10raw.48m', 'sc10raw.60m')]; colnames(phenotype)=c("internal48", "external48", "internal60", "external60", "total48", "total60")
giclean=cleandata$GI_clean.12m
giext=cleandata$GI_extrapolated.12m
### first-born original and interval were excluded due to colinearity
confounder=as.data.frame(cleandata[,c(-1, -2,-3,-4, -5:-7,-10,-11, -31, -32, -36,-37, -38:-40, -41:-556, -which(colnames(cleandata)=='CPE_at_12') )])
confounder=as.data.frame(apply(confounder, 2, as.numeric))
#confounder[, c(3,7)]=apply(confounder[, c(3,7)], 2, as.factor)
internal48=as.numeric(phenotype$internal48)
external48=as.numeric(phenotype$external48)
internal60=as.numeric(phenotype$internal60)
external60=as.numeric(phenotype$external60)
total48=as.numeric(phenotype$total48)
total60=as.numeric(phenotype$total60)
ana1=analysis(internal48, giclean, confounder)
internal48
source("/Users/NYao/Documents/Work/Carine/GI_functions.R")
library(stringr)
library(glmnet)
library(missMDA)
library(MASS)
source("/Users/NYao/Documents/Work/Carine/GI_functions.R")
data=read.csv("/Users/NYao/Documents/Work/Carine/Carine_12_04_2016 final (1).csv")
cbcl=read.csv("/Users/NYao/Dropbox/Code/Interaction/CBCL.csv")
sdq=read.csv("/Users/NYao/Documents/Work/Carine/SDQ 24.05.2016.csv", header=TRUE)
data$PSCID=str_trim(gsub("-", "_", data$PSCID))
cbcl$PSCID=str_trim(cbcl$PSCID)
sdq$PSCID=str_trim(gsub("-", "_", sdq$PSCID))
idpool=intersect(as.character(data$PSCID), as.character(cbcl$PSCID))
cleandata=data[na.omit(match(idpool, data$PSCID)), ]
cleancbcl=cbcl[na.omit(match( idpool, cbcl$PSCID)), ]
all(cleandata$PSCID==cleancbcl$PSCID)
phenotype=cleancbcl[, c('sc8raw.48m', 'sc9raw.48m','sc8raw.60m', 'sc9raw.60m', 'sc10raw.48m', 'sc10raw.60m')]; colnames(phenotype)=c("internal48", "external48", "internal60", "external60", "total48", "total60")
giclean=cleandata$GI_clean.12m
giext=cleandata$GI_extrapolated.12m
### first-born original and interval were excluded due to colinearity
confounder=as.data.frame(cleandata[,c(-1, -2,-3,-4, -5:-7,-10,-11, -31, -32, -36,-37, -38:-40, -41:-556, -which(colnames(cleandata)=='CPE_at_12') )])
confounder=as.data.frame(apply(confounder, 2, as.numeric))
#confounder[, c(3,7)]=apply(confounder[, c(3,7)], 2, as.factor)
idpool=intersect(as.character(data$PSCID), as.character(cbcl$PSCID))
cleandata=data[na.omit(match(idpool, data$PSCID)), ]
cleancbcl=cbcl[na.omit(match( idpool, cbcl$PSCID)), ]
all(cleandata$PSCID==cleancbcl$PSCID)
phenotype=cleancbcl[, c('sc8raw.48m', 'sc9raw.48m','sc8raw.60m', 'sc9raw.60m', 'sc10raw.48m', 'sc10raw.60m')]; colnames(phenotype)=c("internal48", "external48", "internal60", "external60", "total48", "total60")
phenotype
source("/Users/NYao/Documents/Work/Carine/GI_functions.R")
data=read.csv("/Users/NYao/Documents/Work/Carine/Carine_12_04_2016 final (1).csv")
cbcl=read.csv("/Users/NYao/Dropbox/Code/Interaction/CBCL.csv")
sdq=read.csv("/Users/NYao/Documents/Work/Carine/SDQ 24.05.2016.csv", header=TRUE)
data$PSCID=str_trim(gsub("-", "_", data$PSCID))
cbcl$PSCID=str_trim(cbcl$PSCID)
sdq$PSCID=str_trim(gsub("-", "_", sdq$PSCID))
idpool=intersect(as.character(data$PSCID), as.character(cbcl$PSCID))
cleandata=data[na.omit(match(idpool, data$PSCID)), ]
cleancbcl=cbcl[na.omit(match( idpool, cbcl$PSCID)), ]
all(cleandata$PSCID==cleancbcl$PSCID)
phenotype=cleancbcl[, c('sc8raw.48m', 'sc9raw.48m','sc8raw.60m', 'sc9raw.60m', 'sc10raw.48m', 'sc10raw.60m')]; colnames(phenotype)=c("internal48", "external48", "internal60", "external60", "total48", "total60")
giclean=cleandata$GI_clean.12m
giext=cleandata$GI_extrapolated.12m
### first-born original and interval were excluded due to colinearity
confounder=as.data.frame(cleandata[,c(-1, -2,-3,-4, -5:-7,-10,-11, -31, -32, -36,-37, -38:-40, -41:-556, -which(colnames(cleandata)=='CPE_at_12') )])
confounder=as.data.frame(apply(confounder, 2, as.numeric))
#confounder[, c(3,7)]=apply(confounder[, c(3,7)], 2, as.factor)
source("/Users/NYao/Documents/Work/Carine/GI_functions.R")
data=read.csv("/Users/NYao/Documents/Work/Carine/Carine_12_04_2016 final (1).csv")
cbcl=read.csv("/Users/NYao/Dropbox/Code/Interaction/CBCL.csv")
sdq=read.csv("/Users/NYao/Documents/Work/Carine/SDQ 24.05.2016.csv", header=TRUE)
data$PSCID=str_trim(gsub("-", "_", data$PSCID))
cbcl$PSCID=str_trim(cbcl$PSCID)
sdq$PSCID=str_trim(gsub("-", "_", sdq$PSCID))
idpool=intersect(as.character(data$PSCID), as.character(cbcl$PSCID))
cleandata=data[na.omit(match(idpool, data$PSCID)), ]
cleancbcl=cbcl[na.omit(match( idpool, cbcl$PSCID)), ]
all(cleandata$PSCID==cleancbcl$PSCID)
phenotype=cleancbcl[, c('sc8raw.48m', 'sc9raw.48m','sc8raw.60m', 'sc9raw.60m', 'sc10raw.48m', 'sc10raw.60m')]; colnames(phenotype)=c("internal48", "external48", "internal60", "external60", "total48", "total60")
giclean=cleandata$GI_clean.12m
giext=cleandata$GI_extrapolated.12m
### first-born original and interval were excluded due to colinearity
confounder=as.data.frame(cleandata[,c(-1, -2,-3,-4, -5:-7,-10,-11, -31, -32, -36,-37, -38:-40, -41:-556, -which(colnames(cleandata)=='CPE_at_12') )])
confounder=as.data.frame(apply(confounder, 2, as.numeric))
#confounder[, c(3,7)]=apply(confounder[, c(3,7)], 2, as.factor)
### GI Clean
internal48=as.numeric(phenotype$internal48)
external48=as.numeric(phenotype$external48)
internal60=as.numeric(phenotype$internal60)
external60=as.numeric(phenotype$external60)
total48=as.numeric(phenotype$total48)
total60=as.numeric(phenotype$total60)
clean48
internal48
mtcars
summary(lm(mpg))
summary(lm(mpg~cyl+hp, data=mtcars))
summary(lm(mpg~cyl+wt, data=mtcars))
summary(lm(mpg~cyl/3+wt, data=mtcars))
summary(lm(mpg~(mtcars$cyl)/3+wt, data=mtcars))
cyl3=mtycars$cyl/3
cyl3=mtcars$cyl/3
summary(lm(mpg~mtcars$cyl3+wt, data=mtcars))
summary(lm(mtcars$mpg~mtcars$cyl3+mtcars$wt))
summary(lm(mtcars$mpg~cyl3+mtcars$wt))
summary(lm(mpg~mtcars$cyl3+wt, data=mtcars))
summary(lm(mpg~cyl+wt, data=mtcars))
cylmean=mean(mtcars$cyl)
cyl=matcars$cyl
cyl=mtcars$cyl
wt=mtcars$wt
mpg=mtcars$mpg
summary(lm(mpg~cyl+mpg))
summary(lm(mpg~cyl+wt))
summary(lm(mpg~cylmean+wt))
cylmeanadj=cyl-cylmean
summary(lm(mpg~cyl+wt))
summary(lm(mpg~cylmeanadj+wt))
center(cyl)
cylcenter=scale(cyl, scale=FALSE)
all(cylcenter==cylmeanadj)
summary(mpg~cyl*wt)
summary(lm(mpg~cyl*wt))
summary(lm(mpg~cylmeanadj*wt))
file=read.table("randNet_topics.txt")
file=read.table("/Users/NYao/Documents/MIDS/261/HW9 /randNet_topics.txt")
table(file[,2])
load("~/Documents/Work/5-bolasso/MAVAN3+4+EPDS.RData")
rm(genofinal)
rm(genoclean)
rm(genodata)
rm(macanC)
rm(mavanC)
rm(mavanCgenotype)
save.image("~/Documents/Work/5-bolasso/Bolasso_prep.RData")
load("~/Documents/Work/GXEvalidation/GUSTO_replication_10_03.RData")
colnames(newstai)
table(newstai$visit_label)
ls -l /Library/Frameworks/R.framework/Versions/
q()
load("~/Documents/MIDS/209/FinalProject/Code/04-03.RData")
table(zikaCoorSA_sample$report_date)
load("~/Documents/MIDS/209/FinalProject/Code/04-14.RData")
unique(zikaClean$Country)
library(readr)
library(dplyr)
library(data.table)
library(ggplot2)
library(RColorBrewer)
library(rworldmap)
library(ggmap)
library(geonames)
library(rjson) # load rjson package
library(data.table)
library(xlsx)
library(data.table)
data(zipcode)
setwd("/Users/NYao/Documents/MIDS/209/FinalProject/Web")
zika = read.csv("SA-main/Zika_all_clean_AL.csv", as.is = T)
zika = data.table(zika)
zika$report_date=as.Date(zika$report_date, format="%Y-%m-%d")
provinces = zika%>%select(Province, lon, lat)%>%
group_by(Province)%>%
summarise(
lon = unique(lon),
lat = unique(lat)
)
provinces = zika%>%select(Province, lon, lat)
provinces = zika%>%select(Province, lon, lat)%>%
group_by(Province)
provinces = zika%>%select(Province, lon, lat)%>%
group_by(Province)%>%
summarise(
lon = unique(lon),
lat = unique(lat)
)
provinces = zika%>%select(Province, lon, lat)%>%
group_by(Province)%>%
summarise(
lon = mean(lon),
lat = mean(lat)
)
zika$lon=as.numeric(zika$lon);zika$lat=as.numeric(zika$lat)
zika=zika[!is.na(zika$lon),]
zika$lon=as.numeric(zika$lon);zika$lat=as.numeric(zika$lat)
zika$report_date=as.Date(zika$report_date, format="%Y-%m-%d")
zika = read.csv("SA-main/Zika_all_clean_AL.csv", as.is = T)
zika = data.table(zika)
zika$report_date=as.Date(zika$report_date, format="%Y-%m-%d")
zika=zika[!is.na(zika$lon),]
zika$lon=as.numeric(zika$lon);zika$lat=as.numeric(zika$lat)
provinces = zika%>%select(Province, lon, lat)%>%
group_by(Province)%>%
summarise(
lon = unique(lon),
lat = unique(lat)
)
provinces = zika%>%select(Province, lon, lat)%>%
group_by(Province)%>%
summarise(
lon = mean(lon),
lat = mean(lat)
)
View(provinces)
provinces = zika%>%select(Province, lon, lat)%>%
group_by(Province)%>%
summarise(
Country= unique(Country)
lon = mean(lon),
lat = mean(lat)
)
provinces = zika%>%select(Province, lon, lat)%>%
group_by(Province)%>%
summarise(
Country= unique(Country),
lon = mean(lon),
lat = mean(lat)
)
provinces = zika%>%select(Province, lon, lat, Country)%>%
group_by(Province)%>%
summarise(
Country= unique(Country),
lon = mean(lon),
lat = mean(lat)
)
provinces = zika%>%select(Province, lon, lat, Country)%>%
group_by(Province)%>%
summarise(
Country= unique(Country)[1],
lon = mean(lon),
lat = mean(lat)
)
write.csv(all_incidence, "SA-main/Initial_province_coordinates", row.names = F, quote =F)
write.csv(provinces, "SA-main/Initial_province_coordinates", row.names = F, quote =F)
write.csv(provinces, "SA-main/Initial_province_coordinates.csv", row.names = F, quote =F)
